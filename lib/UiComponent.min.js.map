{"version":3,"file":null,"sources":["../src/UiComponent.js"],"sourcesContent":["import React from 'react'\nimport toClassNames from 'classnames'\n\nconst WORD_WITH_COLON_PREFIX = /(:[^\\s]+)/\nconst WORD_WITHOUT_COLON_PREFIX = /^(?!:).+/\n\nexport default class UiComponent extends React.Component {\n\n  static get propTypes () {\n    return {\n      as: React.PropTypes.any\n    }\n  }\n\n  static get defaultProps () {\n    return {\n      as: 'div'\n    }\n  }\n\n  render () {\n    const localProps = this.props\n    const remoteProps = this.props.props || {}\n\n    let {blockName, additionalClasses} = classNameDetailsOf({\n      localClassName: localProps.className,\n      remoteClassName: remoteProps.className,\n      conditionalClassNames: [\n        localProps.classes,\n        remoteProps.classes\n      ]\n    })\n\n    const modifiers = getModsFor({\n      blockName,\n      modifiers: remoteProps.kind,\n      match: WORD_WITHOUT_COLON_PREFIX\n    })\n\n    const rootBlockModifiers = getModsFor({\n      blockName: 'UiComponent',\n      modifiers: remoteProps.kind,\n      match: WORD_WITH_COLON_PREFIX\n    })\n\n    const className = cleanClassNames(\n      `UiComponent ${blockName} ${modifiers} ${additionalClasses} ${rootBlockModifiers}`\n    )\n\n    const tag = remoteProps.as || this.props.as\n\n    const props = {}\n\n    Object.keys(localProps).forEach((key) => {\n      if (key.startsWith('data-')) {\n        props[key] = this.props[key]\n      }\n    })\n\n    props.className = className\n\n    return React.createElement(tag, props, this.props.children)\n  }\n}\n\nfunction classNameDetailsOf ({localClassName, remoteClassName, conditionalClassNames}) {\n  const localNames = typeof localClassName === 'string'\n    ? localClassName.split(' ')\n    : []\n\n  const additionalLocalClassNames = localNames.length > 1\n    ? localNames.splice(1, localNames.length).join(' ')\n    : ''\n\n  const additionalRemoteClassNames = remoteClassName === undefined\n    ? ''\n    : remoteClassName\n\n  return {\n    blockName: localNames[0] || '',\n    additionalClasses: `${additionalRemoteClassNames} ${additionalLocalClassNames} ${toClassNames(conditionalClassNames)}`\n  }\n}\n\nfunction cleanClassNames (classNames) {\n  return removeExtraSpacesFromCssClassNames(\n    removeDuplicatesFromCssClassNames(classNames)\n  )\n}\n\nfunction removeDuplicatesFromCssClassNames (value) {\n  const obj = {}\n  value.split(' ').forEach(item => {\n    obj[item] = ''\n  })\n  return Object.keys(obj).join(' ')\n}\n\nfunction removeExtraSpacesFromCssClassNames (classes) {\n  return classes.replace('  ', ' ').trim()\n}\n\nfunction getModsFor ({blockName, modifiers, match}) {\n\n  const mods = []\n\n  if (modifiers) {\n    for (let modifier of modifiers.split(' ')) {\n      if (match.test(modifier)) {\n        mods.push(`${blockName}--${modifier.replace(':', '')}`)\n      }\n    }\n  }\n\n  return mods.join(' ')\n}\n"],"names":["classNameDetailsOf","localClassName","remoteClassName","conditionalClassNames","localNames","split","additionalLocalClassNames","length","splice","join","additionalRemoteClassNames","undefined","toClassNames","cleanClassNames","classNames","removeExtraSpacesFromCssClassNames","removeDuplicatesFromCssClassNames","value","obj","forEach","item","Object","keys","classes","replace","trim","getModsFor","blockName","modifiers","match","mods","modifier","test","push","WORD_WITH_COLON_PREFIX","WORD_WITHOUT_COLON_PREFIX","UiComponent","localProps","this","props","remoteProps","className","additionalClasses","kind","rootBlockModifiers","tag","as","key","startsWith","_this2","React","createElement","children","PropTypes","any","Component"],"mappings":"4/BAiESA,0BAAqBC,KAAAA,eAAgBC,IAAAA,gBAAiBC,IAAAA,sBACvDC,EAAuC,gBAAnBH,GACtBA,EAAeI,MAAM,QAGnBC,EAA4BF,EAAWG,OAAS,EAClDH,EAAWI,OAAO,EAAGJ,EAAWG,QAAQE,KAAK,KAC7C,GAEEC,EAAiDC,SAApBT,EAC/B,GACAA,mBAGSE,EAAW,IAAM,qBACNM,MAA8BJ,MAA6BM,aAAaT,IAIlG,QAASU,iBAAiBC,SACjBC,oCACLC,kCAAkCF,IAItC,QAASE,mCAAmCC,MACpCC,eACAb,MAAM,KAAKc,QAAQ,cACnBC,GAAQ,KAEPC,OAAOC,KAAKJ,GAAKT,KAAK,KAG/B,QAASM,oCAAoCQ,SACpCA,GAAQC,QAAQ,KAAM,KAAKC,OAGpC,QAASC,kBAAaC,KAAAA,UAAWC,IAAAA,UAAWC,IAAAA,MAEpCC,QAEFF,EAAW,wCACQA,EAAUvB,MAAM,oDAAM,IAAlC0B,UACHF,GAAMG,KAAKD,MACRE,KAAQN,OAAcI,EAASP,QAAQ,IAAK,0FAKhDM,GAAKrB,KAAK,ojBA/GbyB,uBAAyB,YACzBC,0BAA4B,WAEbC,qPAeXC,EAAaC,KAAKC,MAClBC,EAAcF,KAAKC,MAAMA,YAEMvC,mCACnBqC,EAAWI,0BACVD,EAAYC,iCAE3BJ,EAAWd,QACXiB,EAAYjB,WALXI,IAAAA,UAAWe,IAAAA,kBASVd,EAAYF,kCAELc,EAAYG,WAChBR,4BAGHS,EAAqBlB,sBACd,wBACAc,EAAYG,WAChBT,yBAGHO,EAAY5B,+BACDc,MAAaC,MAAac,MAAqBE,GAG1DC,EAAML,EAAYM,IAAMR,KAAKC,MAAMO,GAEnCP,mBAECjB,KAAKe,GAAYlB,QAAQ,SAAC4B,GAC3BA,EAAIC,WAAW,aACXD,GAAOE,EAAKV,MAAMQ,QAItBN,UAAYA,EAEXS,MAAMC,cAAcN,EAAKN,EAAOD,KAAKC,MAAMa,wDAnD5CF,MAAMG,UAAUC,oDAMhB,cAV+BJ,MAAMK"}