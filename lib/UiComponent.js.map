{"version":3,"file":null,"sources":["../src/UiComponent.js"],"sourcesContent":["import React from 'react'\nimport toClassNames from 'classnames'\n\nconst WORD_WITH_COLON_PREFIX = /(:[^\\s]+)/\nconst WORD_WITHOUT_COLON_PREFIX = /^(?!:).+/\n\nexport default class UiComponent extends React.Component {\n\n  static get propTypes () {\n    return {\n      as: React.PropTypes.any\n    }\n  }\n\n  static get defaultProps () {\n    return {\n      as: 'div'\n    }\n  }\n\n  render () {\n    const localProps = this.props\n    const remoteProps = this.props.props || {}\n\n    let {blockName, additionalClasses} = classNameDetailsOf({\n      localClassName: localProps.className,\n      remoteClassName: remoteProps.className,\n      conditionalClassNames: [\n        localProps.classes,\n        remoteProps.classes\n      ]\n    })\n\n    const modifiers = getModsFor({\n      blockName,\n      modifiers: remoteProps.kind,\n      match: WORD_WITHOUT_COLON_PREFIX\n    })\n\n    const rootBlockModifiers = getModsFor({\n      blockName: 'UiComponent',\n      modifiers: remoteProps.kind,\n      match: WORD_WITH_COLON_PREFIX\n    })\n\n    const className = cleanClassNames(\n      `UiComponent ${blockName} ${modifiers} ${additionalClasses} ${rootBlockModifiers}`\n    )\n\n    const tag = remoteProps.as || this.props.as\n\n    const props = {}\n\n    Object.keys(localProps).forEach((key) => {\n      if (key.startsWith('data-')) {\n        props[key] = this.props[key]\n      }\n    })\n\n    props.className = className\n\n    return React.createElement(tag, props, this.props.children)\n  }\n}\n\nfunction classNameDetailsOf ({localClassName, remoteClassName, conditionalClassNames}) {\n  const localNames = typeof localClassName === 'string'\n    ? localClassName.split(' ')\n    : []\n\n  const additionalLocalClassNames = localNames.length > 1\n    ? localNames.splice(1, localNames.length).join(' ')\n    : ''\n\n  const additionalRemoteClassNames = remoteClassName === undefined\n    ? ''\n    : remoteClassName\n\n  return {\n    blockName: localNames[0] || '',\n    additionalClasses: `${additionalRemoteClassNames} ${additionalLocalClassNames} ${toClassNames(conditionalClassNames)}`\n  }\n}\n\nfunction cleanClassNames (classNames) {\n  return removeExtraSpacesFromCssClassNames(\n    removeDuplicatesFromCssClassNames(classNames)\n  )\n}\n\nfunction removeDuplicatesFromCssClassNames (value) {\n  const obj = {}\n  value.split(' ').forEach(item => {\n    obj[item] = ''\n  })\n  return Object.keys(obj).join(' ')\n}\n\nfunction removeExtraSpacesFromCssClassNames (classes) {\n  return classes.replace('  ', ' ').trim()\n}\n\nfunction getModsFor ({blockName, modifiers, match}) {\n\n  const mods = []\n\n  if (modifiers) {\n    for (let modifier of modifiers.split(' ')) {\n      if (match.test(modifier)) {\n        mods.push(`${blockName}--${modifier.replace(':', '')}`)\n      }\n    }\n  }\n\n  return mods.join(' ')\n}\n"],"names":["WORD_WITH_COLON_PREFIX","WORD_WITHOUT_COLON_PREFIX","UiComponent","localProps","props","remoteProps","classNameDetailsOf","className","classes","blockName","additionalClasses","modifiers","getModsFor","kind","rootBlockModifiers","cleanClassNames","tag","as","keys","forEach","key","startsWith","React","createElement","children","PropTypes","any","Component","localClassName","remoteClassName","conditionalClassNames","localNames","split","additionalLocalClassNames","length","splice","join","additionalRemoteClassNames","undefined","toClassNames","classNames","removeExtraSpacesFromCssClassNames","removeDuplicatesFromCssClassNames","value","obj","item","Object","replace","trim","match","mods","modifier","test","push"],"mappings":"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"}